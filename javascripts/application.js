// Generated by CoffeeScript 1.3.3
(function() {
  var backHome, duration, homeLinks, sizeHome;

  duration = 1000;

  $(function() {
    sizeHome();
    homeLinks();
    return backHome();
  });

  sizeHome = function() {
    $("#home").outerWidth($(window).width());
    return $("#home").outerHeight($(window).height());
  };

  homeLinks = function() {
    var homeCoords;
    homeCoords = $("#home").centerCoords();
    $("#stage").transformOrigin(homeCoords.left, homeCoords.top);
    return $("body").on("click", "#home ul a", function(e) {
      e.preventDefault();
      $("#home .return-home").show();
      homeCoords = $("#home").centerCoords();
      return $("#stage").addClass("zoomed-out");
    });
  };

  backHome = function() {
    return $("body").on("click", ".return-home", function(e) {
      $("#home .return-home").hide();
      return $("#stage").removeClass("zoomed-out");
    });
  };

  jQuery.fn.transformOrigin = function(x, y) {
    var str;
    str = "" + x + "px " + y + "px";
    str = "" + x + "% " + y + "%";
    return $(this).css({
      "-webkit-transform-origin": "" + str,
      "-moz-transform-origin": "" + str,
      "-ms-transform-origin": "" + str,
      "-o-transform-origin": "" + str,
      "transform-origin": "" + str
    });
  };

  jQuery.fn.centerCoords = function() {
    var left, pos, top;
    pos = $(this).position();
    top = $(this).outerHeight() / 2 + pos.top;
    left = $(this).outerWidth() / 2 + pos.left;
    top = (top * 100) / $("#stage").height();
    left = (left * 100) / $("#stage").width();
    return {
      top: top,
      left: left
    };
  };

}).call(this);
